(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);n(9);var a=n(5),r=n(2),o=function(){function t(){this.id=Math.random(),this.state={},this.listeners=[],Object(r.d)(this,{state:r.e,setState:r.a,getState:r.c})}var e=t.prototype;return e.setState=function(t,e){void 0===e&&(e=!0),this.state=e?Object.assign({},this.state,t):t},e.addListener=function(t){return this.listeners=this.listeners.concat(Object(r.b)(t)),this.listeners.length-1},e.removeListener=function(t){t<this.listeners.length&&this.listeners[t]&&(this.listeners[t](),this.listeners[t]=null)},e.resetListeners=function(){this.listeners=[]},Object(a.a)(t,[{key:"getState",get:function(){return this.state}}]),t}();window.DIState=new o;n(11);var i=n(0),c=n.n(i),u=n(1),l=function(t){return c.a.createElement("div",{className:"table-styled"},c.a.createElement("table",null,t.children))},d=function(t){var e=function(t,e){return void 0===e&&(e=!1),t.map((function(t,n){return c.a.createElement("tr",{key:n},t.map((function(t,n){return e?c.a.createElement("th",{key:n},t):c.a.createElement("td",{key:n},t)})))}))};return c.a.createElement(l,null,c.a.createElement("thead",null,e(t.rows.filter((function(t,e){return 0===e})),!0)),c.a.createElement("tbody",null,e(t.rows.filter((function(t,e){return e>0})))))},s=["Reproductive health","Maternal and newborn health","Child health","RMNCH (total)"],f=["% of RMNCH","% of Health ODA","% of total ODA"],h=["Reproductive health","Maternal and newborn health","Child health","Core contributions to multilaterals benefiting RMNCH"],m=[2011,2020],p=n(6);function b(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var v=function(t,e){void 0===e&&(e="");var n=Number(t);return isNaN(n)?e:new Intl.NumberFormat("en-IN",{maximumFractionDigits:2}).format(n)},y=function(t){return new Promise((function(e){Object(p.parse)(t,{download:!0,header:!0,complete:function(t){var n=t.data;return e(n)}})}))},g=function(t,e,n){return t.filter((function(t){return t[n]===e}))},S=function(t,e,n){return t.filter((function(t){return e.includes(t[n])}))},E=function(t){for(var e,n=t[1]-t[0]+1,a=[],r=b(Array(n).keys());!(e=r()).done;){var o=e.value;a.push(o)}return a.map((function(e){return t[0]+e}))},D=y,L=function(t,e,n){var a=E(m),r=["RMNCH category"].concat(a),o=h.map((function(t){var n=S(e,[t],"variable");return[t].concat(function(t,e,n){return e.map((function(e){var a=t.find((function(t){return""+t.Year==""+e}));return a?Number(a[n])||"":0}))}(n,a,"value"))})),c=r.map((function(t,e){return 0===e?"RMNCH (total)":v(o.reduce((function(t,n){return"number"==typeof n[e]?t+n[e]:t}),0))})),l=o.map((function(t){return t.map((function(t){return"number"==typeof t?v(t):t}))})),s=[r].concat(l,[c]);Object(u.render)(Object(i.createElement)(d,{country:n,rows:s}),t)},N=function(t){window.DICharts.handler.addChart({className:t,d3:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();window.DIState?window.DIState.addListener((function(){e.showLoading();var n=window.DIState.getState,a=n.country,r=n.dataOne;if(a&&r){var o=S(g(r,a||"United States","Donor.Name"),h,"variable");L(t,o,a||"United States"),e.hideLoading(),t.parentElement.classList.add("auto-height")}})):console.log("State is not defined")}))}}})},I=function(t){var e,n=document.createElement("div");return(e=n.classList).add.apply(e,["spotlight-banner","data-selector--wrapper"]),t.parentElement.insertBefore(n,t),n},C=function(t,e){var n=document.createElement("option");n.value="string"==typeof e?e:e.value,n.text="string"==typeof e?e:e.label,t.appendChild(n)},A=function(t){var e,n=t.wrapper,a=t.options,r=t.defaultOption,o=t.allItemsLabel,i=t.className,c=t.label,u=document.createElement("select");if((e=u.classList).add.apply(e,["data-selector","js-plotly-chart-data-selector",i]),o&&C(u,{label:o,value:"*"}),a.forEach((function(t){return C(u,t)})),u.classList.add("data-selector--active"),r&&(u.value=r),c){var l=document.createElement("label");l.innerHTML=c;var d=document.createElement("div");d.classList.add("labelled-data-selector--wrapper"),d.appendChild(l),d.appendChild(u),n.appendChild(d)}else n.appendChild(u);return u},O=function(t){window.DICharts.handler.addChart({className:t,d3:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();D("https://raw.githubusercontent.com/devinit/di-website-data/main/2022/rh-and-fp-dropdowns.csv").then((function(n){n=n.filter((function(t){return""!==t.Donors}));var a=I(t),r=A({wrapper:a,options:n.map((function(t){return t.Donors})),defaultOption:"United States",className:"country-filter",label:"Select donor"});window.DIState&&window.DIState.setState({country:"United States"}),r.addEventListener("change",(function(t){var e=t.currentTarget.value;window.DIState&&window.DIState.setState({country:e})})),e.hideLoading(),t.parentElement.classList.add("auto-height")}))}))}}})},x=n(7),j=n.n(x);var R={rainbow:["#e84439","#eb642b","#f49b21","#109e68","#0089cc","#893f90","#c2135b","#f8c1b2","#f6bb9d","#fccc8e","#92cba9","#88bae5","#c189bb","#e4819b"],default:["#6c120a","#a21e25","#cd2b2a","#dc372d","#ec6250","#f6b0a0","#fbd7cb","#fce3dc"],sunflower:["#7d4712","#ba6b15","#df8000","#f7a838","#fac47e","#fedcab","#fee7c1","#feedd4"],marigold:["#7a2e05","#ac4622","#cb5730","#ee7644","#f4a57c","#facbad","#fcdbbf","#fde5d4"],rose:["#65093d","#8d0e56","#9f1459","#d12568","#e05c86","#f3a5b6","#f6b8c1","#f9cdd0"],lavendar:["#42184c","#632572","#732c85","#994d98","#af73ae","#cb98c4","#deb5d6","#ebcfe5"],bluebell:["#0a3a64","#00538e","#1060a3","#4397d3","#77adde","#a3c7eb","#bcd4f0","#d3e0f4"],leaf:["#08492f","#005b3e","#00694a","#3b8c62","#74bf93","#a2d1b0","#b1d8bb","#c5e1cb"]},k={legend:{top:10,textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},tooltip:{trigger:"axis",textStyle:{fontFamily:"Geomanist Regular,sans-serif"},axisPointer:{type:"none"}},toolbox:{showTitle:!1,feature:{saveAsImage:{show:!1,title:"Save as image",pixelRatio:2}},right:20,tooltip:{show:!0,textStyle:{fontFamily:"Geomanist Regular,sans-serif",formatter:function(t){return"<div>"+t.title+"</div>"}}}},color:R.rainbow,xAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},yAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},axisPointer:{type:"none"},grid:{top:10}},F=c.a.createElement("div",{className:"no-data"},"No Data"),M=function(){return F},U=function(t,e,n,a,r){return function(t,e,n){return e.reduce((function(e,a){var r=t.filter((function(t){return""+t.Year==""+a})).reduce((function(t,e){return t+Number(e[n]||0)}),0);return e.concat(r)}),[])}(S(t,[e],r),n,a)},_=function(t,e){void 0===e&&(e=!0),e?t.classList.remove("invisible"):t.classList.add("invisible")},T=function(t,e){return h.map((function(n){return{name:n,type:"bar",stack:"oda",tooltip:{valueFormatter:function(t){return"US$"+v(t)+" million"}},data:U(t,n,e,"value","variable")}})).map((function(t,e,n){return e===n.length-1?Object.assign({},t,{label:{normal:{show:!0,position:"top",fontFamily:"Geomanist Regular,sans-serif",formatter:function(t){var e=n.reduce((function(e,n){var a=n.data[t.dataIndex];return e+parseFloat(a||0)}),0);return v(e)},color:"#000000"}}}):t}))},H=function(t,e,n){if(!n.length)return _(t,!1),(a=e).classList.add("no-data--wrapper"),Object(u.unmountComponentAtNode)(a),void Object(u.render)(Object(i.createElement)(M),a);var a;_(t),function(t){t.classList.remove("no-data--wrapper"),Object(u.unmountComponentAtNode)(t)}(e);var r=window.echarts.init(t),o=E(m),c=j()(k,{legend:{show:!0,selectedMode:!1},xAxis:{type:"category",data:o},yAxis:{type:"value",name:"US$ millions (constant ".concat(o[o.length-1]," prices)"),nameLocation:"middle",nameGap:50},grid:{top:60},series:T(n,o)});c.color=["#e84439","#f8c1b2","#f0826d","#bc2629"].concat(c.color),r.setOption(c)},G=function(t){window.DICharts.handler.addChart({className:t,echarts:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();var n=I(t);window.DIState?window.DIState.addListener((function(){e.showLoading();var a=window.DIState.getState,r=a.country,o=a.dataOne;if(r&&o){var i=S(g(o,r||"United States","Donor.Name"),h,"variable");H(t,n,i),e.hideLoading()}})):(console.log("State is not defined"),e.hideLoading())}))}}})},P=function(t){var e=function(t,e){return void 0===e&&(e=!1),t.map((function(n,a){return c.a.createElement("tr",{key:a},n.map((function(n,r){return e?c.a.createElement("th",{key:r},n):a===t.length-1&&0===r?c.a.createElement("td",{colSpan:2,key:r},n):c.a.createElement("td",{key:r},n)})))}))};return c.a.createElement(l,null,c.a.createElement("thead",null,e(t.rows.filter((function(t,e){return 0===e})),!0)),c.a.createElement("tbody",null,e(t.rows.filter((function(t,e){return e>0})))))};function $(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var J=function(t,e,n,a){for(var r,o=[2016,2020],c=[],l=$(Array(o[1]-o[0]+1).keys());!(r=l()).done;){var d=r.value;c.push(d)}var s=["Rank","Recipient"].concat(c.map((function(t){return o[0]+t}))),f=t.filter((function(t){return n===t["Code type"]})),h=function(t){var e=[].concat(t),n=[];if(t.length<10)for(var a=0;a<t.length;a++)if(e.length>=1){var r=e.reduce((function(t,e){return Number(t[2020])<Number(e[2020])?e:t}));n.push(r);var o=e.indexOf(r);e.splice(o,1)}for(var i=0;i<10;i++)if(e.length>=1){var c=e.reduce((function(t,e){return Number(t[2020])<Number(e[2020])?e:t}));n.push(c);var u=e.indexOf(c);e.splice(u,1)}return{sortedData:n,unsortedData:e}}(g(f,e,"donor_name")),m=h.sortedData,p=function(t,e){return e.map((function(e){var n=t.map((function(t){return Number(t[e])})).reduce((function(t,e){return t+e}),0);return v(n,0)}))}(h.unsortedData,c.map((function(t){return(o[0]+t).toString()}))),b=[s].concat(function(t){var e=[];if(t.length<10){if(0===t.length)return e;for(var n=0;n<t.length;n++)t.length>=1&&e.push([n+1,t[n].recipient_name,v(Number(t[n][2016]),0),v(Number(t[n][2017]),0),v(Number(t[n][2018]),0),v(Number(t[n][2019]),0),v(Number(t[n][2020]),0)]);return e}for(var a=0;a<10;a++)t.length>=1&&e.push([a+1,t[a].recipient_name,v(Number(t[a][2016]),0),v(Number(t[a][2017]),0),v(Number(t[a][2018]),0),v(Number(t[a][2019]),0),v(Number(t[a][2020]),0)]);return e}(m)).concat([["Total of all other recipients"].concat(p)]);Object(u.render)(Object(i.createElement)(P,{rows:b}),a)},Y=function(t){window.DICharts.handler.addChart({className:t,echarts:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();var n,a=I(t),r="Reproductive health",o="United States";window.DIState?window.DIState.addListener((function(){e.showLoading();var i=window.DIState.getState,c=i.country,u=i.dataTwo;(o=c)&&u&&(n||(n=A({wrapper:a,options:u.reduce((function(t,e){var n=e["Code type"];return n&&!t.includes(n)?t.concat(n):t}),[]),defaultOption:r,className:"purpose-code-filter",label:"Select purpose code"})).addEventListener("change",(function(e){r=e.target.value,J(u,o,r,t)})),J(u,o,r,t),e.hideLoading(),t.parentElement.classList.add("auto-height"))})):(console.log("State is not defined"),e.hideLoading())}))}}})},B=function(t){window.DICharts.handler.addChart({className:t,d3:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();D("https://raw.githubusercontent.com/devinit/di-website-data/main/2022/year_dropdown.csv").then((function(n){n=n.filter((function(t){return""!==t.year})),console.log(n);var a=I(t),r=A({wrapper:a,options:n.map((function(t){return t.year})),defaultOption:"2020",className:"year-filter",label:"Select year"});window.DIState&&window.DIState.setState({year:"2020"}),r.addEventListener("change",(function(t){var e=t.currentTarget.value;window.DIState&&window.DIState.setState({year:e})})),e.hideLoading(),t.parentElement.classList.add("auto-height")}))}))}}})},q=function(t){var e=function(t,e){return void 0===e&&(e=!1),t.map((function(t,n){return c.a.createElement("tr",{key:n},t.map((function(t,n){return e?c.a.createElement("th",{key:n},t):c.a.createElement("td",{key:n},t)})))}))};return c.a.createElement(l,null,c.a.createElement("thead",null,e(t.rows.filter((function(t,e){return 0===e})),!0)),c.a.createElement("tbody",null,e(t.rows.filter((function(t,e){return e>0})))))},K=function(t,e,n){var a=["Purpose","% of RMNCH".concat(" (",String(Number(e[0]["RMNCH (total)"]).toFixed(1)),")"),"% of Health ODA".concat(" (",String(Number(e[0].health).toFixed(1)),")"),"% of total ODA".concat(" (",String(Number(e[0].total).toFixed(1)),")")],r=s.map((function(t){var n=S(e,t,"x_variable");return[t].concat(function(t,e,n,a){return e.map((function(e){var r=t.find((function(t){return""+t.y_variable==""+e}));if(r){var o=String(Math.round(1e4*r[n])/100),i=String(parseFloat(r[a]).toFixed(1));return o.concat("%"," (",i,")")||""}return 0}))}(n,f,"percentage_value","absolute_value"))})).map((function(t){return t.map((function(t){return"number"==typeof t?v(t):t}))})),o=[a].concat(r);Object(u.render)(Object(i.createElement)(q,{country:n,rows:o}),t)},Q=function(t){window.DICharts.handler.addChart({className:t,d3:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();window.DIState?window.DIState.addListener((function(){e.showLoading();var n=window.DIState.getState,a=n.year,r=n.country,o=n.dataThree;if(r&&o){var i=function(t,e,n){var a=e.toString();return t.filter((function(t){return a.includes(t[n])}))}(g(o,r||"United States","donor_name"),a||"2020","year");K(t,i,r||"United States"),e.hideLoading(),t.parentElement.classList.add("auto-height")}})):console.log("State is not defined")}))}}})},V=function(){var t,e;t=[{url:"https://raw.githubusercontent.com/devinit/di-website-data/main/2022/data_1.csv",state:"dataOne"},{url:"https://raw.githubusercontent.com/devinit/di-website-data/main/2022/data_2.csv",state:"dataTwo"},{url:"https://raw.githubusercontent.com/devinit/di-website-data/main/2022/data_3.csv",state:"dataThree"}],e={country:"United States"},window.DIState&&t.length?(e&&window.DIState.setState(e),t.forEach((function(t){var e=t.url,n=t.state;y(e).then((function(t){var e;window.DIState.setState(((e={})[n]=t||[],e))}))}))):console.log("State is not defined"),O("dicharts--donor-selector"),N("dicharts--table-one"),G("dicharts--chart-one"),Y("dicharts--table-two"),B("dicharts--year-selector"),Q("dicharts--table-three")};window.addEventListener("load",(function(){V()}))},8:function(t,e,n){t.exports=n(16)},9:function(t,e,n){}},[[8,1,2]]]);