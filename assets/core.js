(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){"use strict";n.r(e);n(9);var a=n(3),r=n(1),o=function(){function t(){this.id=Math.random(),this.state={},this.listeners=[],Object(r.d)(this,{state:r.e,setState:r.a,getState:r.c})}var e=t.prototype;return e.setState=function(t,e){void 0===e&&(e=!0),this.state=e?Object.assign({},this.state,t):t},e.addListener=function(t){return this.listeners=this.listeners.concat(Object(r.b)(t)),this.listeners.length-1},e.removeListener=function(t){t<this.listeners.length&&this.listeners[t]&&(this.listeners[t](),this.listeners[t]=null)},e.resetListeners=function(){this.listeners=[]},Object(a.a)(t,[{key:"getState",get:function(){return this.state}}]),t}();window.DIState=new o;var i=n(0),s=n.n(i),l=n(4),c=function(t){return s.a.createElement("div",{className:"table-styled"},s.a.createElement("table",null,t.children))},u=function(t){var e=function(t,e){return void 0===e&&(e=!1),t.map((function(t,n){return s.a.createElement("tr",{key:n},t.map((function(t,n){return e?s.a.createElement("th",{key:n},t):s.a.createElement("td",{key:n},t)})))}))};return s.a.createElement(c,null,s.a.createElement("thead",null,e(t.rows.filter((function(t,e){return 0===e})),!0)),s.a.createElement("tbody",null,e(t.rows.filter((function(t,e){return e>0})))))},d="U.S. Agency for International Development",f="Reporting Organisation Narrative",p=["Reproductive health care","Family planning"],m=[2019,2021],h=n(5);function w(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var y=function(t){return Number(t.toFixed(2))},g=function(t){return new Promise((function(e){Object(h.parse)(t,{download:!0,header:!0,complete:function(t){var n=t.data;return e(n)}})}))},b=function(t,e,n){return t.filter((function(t){return t[n]===e}))},S=function(t,e,n){return t.filter((function(t){return e.includes(t[n])}))};function I(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var A=function(t){window.DICharts.handler.addChart({className:t,d3:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading(),window.DIState?window.DIState.addListener((function(){e.showLoading();var n=window.DIState.getState,a=n.country,r=n.dataOne;if(a&&r){var o=S(b(r,a||d,f),p,"purpose_name");!function(t,e,n){for(var a,r=[],o=I(Array(m[1]-m[0]+1).keys());!(a=o()).done;){var s=a.value;r.push(s)}var c=["Purpose code"].concat(r.map((function(t){return m[0]+t}))),d=[c].concat(p.map((function(t){var n=S(e,[t],"purpose_name");return c.reduce((function(e,a,r){if(0===r)return e.concat(t);var o=n.filter((function(t){return t.year===""+a})).reduce((function(t,e){return t+Number(e.x_transaction_value_usd_m_Sum)}),0);return e.concat(Math.round(o))}),[])})));Object(l.render)(Object(i.createElement)(u,{country:n,rows:d}),t)}(t,o,a||d),e.hideLoading(),t.parentElement.classList.add("auto-height")}})):console.log("State is not defined")}))}}})},D=function(t,e){var n=document.createElement("option");n.value="string"==typeof e?e:e.value,n.text="string"==typeof e?e:e.label,t.appendChild(n)},E=function(t){window.DICharts.handler.addChart({className:t,d3:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading();var n=[],a=function(t){var e,n=document.createElement("div");return(e=n.classList).add.apply(e,["spotlight-banner","data-selector--wrapper"]),t.parentElement.insertBefore(n,t),n}(t);window.DIState?window.DIState.addListener((function(){e.showLoading();var r=window.DIState.getState.dataOne;if(r&&r.length&&!n.length){n=r.reduce((function(t,e){var n=e[f];return t.includes(n)?t:t.concat(n)}),[]).map((function(t){return{label:t,value:t}}));var o=function(t){var e,n=t.wrapper,a=t.options,r=t.defaultOption,o=t.allItemsLabel,i=t.className,s=t.label,l=document.createElement("select");if((e=l.classList).add.apply(e,["data-selector","js-plotly-chart-data-selector",i]),o&&D(l,{label:o,value:"*"}),a.forEach((function(t){return D(l,t)})),l.classList.add("data-selector--active"),r&&(l.value=r),s){var c=document.createElement("label");c.innerHTML=s;var u=document.createElement("div");u.classList.add("labelled-data-selector--wrapper"),u.appendChild(c),u.appendChild(l),n.appendChild(u)}else n.appendChild(l);return l}({wrapper:a,options:n,defaultOption:d,className:"country-filter",label:"Select Donor"});window.DIState&&window.DIState.setState({country:"U.S. Agency for International Development"}),o.addEventListener("change",(function(t){var e=t.currentTarget.value;window.DIState&&window.DIState.setState({country:e})}))}e.hideLoading(),t.parentElement.classList.add("auto-height")})):console.log("State is not defined")}))}}})},x=n(6),O=n.n(x),C={legend:{top:10,textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},tooltip:{trigger:"axis",textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},toolbox:{showTitle:!1,feature:{saveAsImage:{title:"Save as image",pixelRatio:2}},right:20,tooltip:{show:!0,textStyle:{fontFamily:"Geomanist Regular,sans-serif",formatter:function(t){return"<div>"+t.title+"</div>"}}}},color:["#6c120a","#a21e25","#cd2b2a","#dc372d","#ec6250","#f6b0a0","#fbd7cb","#fce3dc"],xAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},yAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},grid:{top:10}},j=function(t,e){var n,a=Object(r.f)(t).filter((function(t){return t.purpose_name===e&&t.year>=2019&&t.year<=2021})).map((function(t){return{year:t.year,value:t.x_transaction_value_usd_m_Sum}}));return n={},a.forEach((function(t){n[t.year]?n[t.year]=Object.assign({},n[t.year],{value:(parseFloat(t.value?t.value:0)+parseFloat(n[t.year].value?n[t.year].value:0)).toFixed(3)}):n[t.year]=t})),Object.values(n).map((function(t){return t.value}))},_=function(t,e){return p.map((function(e){return{name:e,type:"bar",stack:"oda",data:j(t,e)}})).map((function(t,e,n){return e===n.length-1?Object.assign({},t,{label:{normal:{show:!0,position:"top",formatter:function(t){var e=n.reduce((function(e,n){var a=n.data[t.dataIndex];return e+parseFloat(a||0)}),0);return y(e)},color:"#000000"}}}):t}))},F=function(t,e){var n=window.echarts.init(t),a=function(t){for(var e,n=t[1]-t[0]+1,a=[],r=w(Array(n).keys());!(e=r()).done;){var o=e.value;a.push(o)}return a.map((function(e){return t[0]+e}))}(m),r={legend:{show:!0,selectedMode:!1},xAxis:{type:"category",data:a},yAxis:{type:"value",name:"USD$ millions (constant 2019 prices)",nameLocation:"middle",nameGap:50},grid:{top:60},series:_(e)};n.setOption(O()(C,r))},R=function(t){window.DICharts.handler.addChart({className:t,echarts:{onAdd:function(t){Array.prototype.forEach.call(t,(function(t){var e=new window.DICharts.Chart(t.parentElement);e.showLoading(),window.DIState?window.DIState.addListener((function(){e.showLoading();var n=window.DIState.getState,a=n.country,r=n.dataOne;if(a&&r){var o=S(b(r,a||"U.S. Agency for International Development",f),p,"purpose_name");F(t,o),e.hideLoading()}})):(console.log("State is not defined"),e.hideLoading())}))}}})};window.addEventListener("load",(function(){window.DIState?(window.DIState.setState({country:d}),g("https://raw.githubusercontent.com/devinit/di-website-data/main/2022/IATI-RHFP-data-v1.csv").then((function(t){window.DIState.setState({dataOne:t})})),g("https://raw.githubusercontent.com/devinit/di-website-data/main/2022/IATI-RHFP-data-v2.csv").then((function(t){window.DIState.setState({dataTwo:t})}))):console.log("State is not defined"),E("dicharts--iati-root"),A("dicharts--iati-table-one-root"),R("dicharts--iati-chart-one-root")}))},8:function(t,e,n){t.exports=n(15)},9:function(t,e,n){}},[[8,1,2]]]);