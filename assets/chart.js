(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===a}(e)}(e)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function l(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&o(e).forEach((function(t){r[t]=i(e[t],n)})),o(t).forEach((function(a){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(s(e,a)&&n.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u}(a,n)(e[a],t[a],n):r[a]=i(t[a],n))})),r}function u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||l,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var a=Array.isArray(t);return a===Array.isArray(e)?a?n.arrayMerge(e,t,n):c(e,t,n):i(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var d=u;e.exports=d},function(e,t,n){e.exports=n(3)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i={rainbow:["#e84439","#eb642b","#f49b21","#109e68","#0089cc","#893f90","#c2135b","#f8c1b2","#f6bb9d","#fccc8e","#92cba9","#88bae5","#c189bb","#e4819b"],default:["#6c120a","#a21e25","#cd2b2a","#dc372d","#ec6250","#f6b0a0","#fbd7cb","#fce3dc"],sunflower:["#7d4712","#ba6b15","#df8000","#f7a838","#fac47e","#fedcab","#fee7c1","#feedd4"],marigold:["#7a2e05","#ac4622","#cb5730","#ee7644","#f4a57c","#facbad","#fcdbbf","#fde5d4"],rose:["#65093d","#8d0e56","#9f1459","#d12568","#e05c86","#f3a5b6","#f6b8c1","#f9cdd0"],lavendar:["#42184c","#632572","#732c85","#994d98","#af73ae","#cb98c4","#deb5d6","#ebcfe5"],bluebell:["#0a3a64","#00538e","#1060a3","#4397d3","#77adde","#a3c7eb","#bcd4f0","#d3e0f4"],leaf:["#08492f","#005b3e","#00694a","#3b8c62","#74bf93","#a2d1b0","#b1d8bb","#c5e1cb"]},l={color:i.rainbow.concat(i.default),legend:{top:10,textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},tooltip:{trigger:"axis",textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},toolbox:{showTitle:!1,feature:{saveAsImage:{title:"Save as image",pixelRatio:2}},right:20,tooltip:{show:!0,textStyle:{fontFamily:"Geomanist Regular,sans-serif",formatter:function(e){return"<div>"+e.title+"</div>"}}}},xAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},yAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}},o=(n(2),function(e){return new Promise((function(t){window.d3.csv(e,(function(e){return t(e)}))}))}),s=function(e,t,n){void 0===n&&(n=!1);var r=document.createElement("option");r.value="string"==typeof t?t:t.value,r.text="string"==typeof t?t:t.label,n&&(r.selected=!0),e.appendChild(r)},c=function(e){var t,n=e.wrapper,r=e.options,a=e.allItemsLabel,i=e.className,l=e.label,o=e.defaultOption,c=void 0===o?"*":o,u=document.createElement("select");if((t=u.classList).add.apply(t,["data-selector","js-plotly-chart-data-selector",i]),a&&s(u,{label:a,value:"*"},"*"===c),r.forEach((function(e){return s(u,e,e===c)})),u.classList.add("data-selector--active"),l){var d=document.createElement("label");d.innerHTML=l;var f=document.createElement("div");f.classList.add("labelled-data-selector--wrapper"),f.appendChild(d),f.appendChild(u),n.appendChild(f)}else n.appendChild(u);return u},u=function(e,t){Array.prototype.forEach.call(e,(function(e,n){n<t.length&&(e.style.borderColor=t[n]),e.style.borderWidth="2px"}))};var d=function(e){var t=!0,n={pillNames:e.pills||[],onAddListener:e.onAdd,onRemoveListener:e.onRemove,widget:null,pills:[],colours:e.colours||[],init:function(){var e,t=this;this.widget=((e=document.createElement("div")).classList.add("spotlight-banner"),e),this.pillNames&&this.pillNames.length&&this.pillNames.forEach((function(e){return t.add(e,{allowDuplicate:!0})}))},add:function(e,t){var n=this;if(void 0===t&&(t={}),this.isEnabled()&&(t.allowDuplicate||!this.pillNames.includes(e))){this.pillNames.push(e);var r=function(e,t){var n,r=document.createElement("li");r.classList.add("m-pills__item"),r.innerHTML=t,e.appendChild(r);var a=document.createElement("button");a.setAttribute("type","button"),r.appendChild(a);var i=document.createElement("i");return i.setAttribute("role","presentation"),(n=i.classList).add.apply(n,["ico","ico--20","ico-cross-slate"]),a.appendChild(i),[r,a]}(this.widget,e),a=r[0],i=r[1];this.pills.push(a),i.addEventListener("click",(function(e){if(n.isEnabled()){var t=e.currentTarget.parentElement;t&&n.remove(t.innerText)}})),this.onAddListener&&this.onAddListener(e),u(this.pills,this.colours)}},remove:function(e){if(t){var n=this.pillNames.indexOf(e);this.pillNames=this.pillNames.filter((function(t){return t!==e}));var r=this.pills[n];this.pills=this.pills.filter((function(e,t){return t!==n})),r.remove(),this.onRemoveListener&&this.onRemoveListener(e),u(this.pills,this.colours)}},onAdd:function(e){this.onAddListener=e},onRemove:function(e){this.onRemoveListener=e},removeAll:function(){this.pillNames=[],this.pills.forEach((function(e){return e.remove()})),this.pills=[],this.onRemoveListener&&this.onRemoveListener()},enable:function(){t=!0},disable:function(){t=!1},isEnabled:function(){return t}};return n.init(),n},f=function(e){return e.map((function(e){var t=Object.assign({},e);return t.value=e["USD deflated"].trim()?Number(e["USD deflated"].replace(",","").replace(" ","").trim()):null,t}))},p=function(e,t,n,r){var a=e.filter((function(e){return e.Donor.trim()===n&&e["Delivery Channel"]===r}));return t.map((function(e){return a.find((function(t){return t.Year===e}))}))};window.addEventListener("load",(function(){window.DICharts.handler.addChart({className:"dicharts--boilerplate-chart",echarts:{onAdd:function(e){Array.prototype.forEach.call(e,(function(e){var t=new window.DICharts.Chart(e.parentElement);o("https://raw.githubusercontent.com/devinit/di-chart-boilerplate/gha/2021/funding-channels/public/assets/data/GHA/2021/funding-channels-interactive-data.csv").then((function(n){var r=function(e){var t,n=document.createElement("div");return(t=n.classList).add.apply(t,["spotlight-banner","data-selector--wrapper"]),e.parentElement.insertBefore(n,e),n}(e),i=[].concat(new Set(n.map((function(e){return e.Donor})))),o=[].concat(new Set(n.map((function(e){return e.Year})))),s=[].concat(new Set(n.map((function(e){return e["Delivery Channel"]})))),u=c({wrapper:r,options:i,allItemsLabel:"All Donors",className:"country-filter",label:"Select Donor"}),m=s[0],b=c({wrapper:r,options:s,allItemsLabel:"All Channels",className:"channel-filter",label:"Channel",defaultOption:m}),h=function(e,t,n){var r=n.donors,i=n.years,o=n.channels,s=window.echarts.init(e),c={legend:{show:!1},xAxis:{type:"category",data:i},yAxis:{type:"value"},series:r.filter((function(e){return"EU Institutions"!==e})).map((function(e){return{name:e,data:p(t,i,e,o[0]).map((function(e){return Number(e.value)})),type:"bar",stack:o[0],emphasis:{focus:"series"}}}))};return s.setOption(a()(l,c)),s}(e,f(n),{donors:i,years:o,channels:s}),v=new d({wrapper:r,colours:h.getOption().color});v.pills.length&&e.parentElement.insertBefore(v.widget,e);var g=function(e,t,n){var r=f(e);h.setOption({legend:{show:!1},series:t.map((function(e){return{name:e,data:p(r,o,e,n).map((function(e){return Number(e.value)})),type:"bar",stack:n,emphasis:{focus:"series"}}}))},{replaceMerge:["series"]})},y=function(e,t){var n=f(e);h.setOption({legend:{show:!0},series:s.map((function(e){return{name:e,data:p(n,o,t,e).map((function(e){return Number(e.value)})),type:"bar",stack:t,emphasis:{focus:"series"}}}))},{replaceMerge:["series"]})};u.addEventListener("change",(function(t){var n=t.currentTarget.value;"*"!==n?(v.pillNames.length||e.parentElement.insertBefore(v.widget,e),"*"===m&&v.removeAll(),v.add(n)):v.removeAll()})),v.onAdd((function(e){var t="*"!==e?n.filter((function(e){return v.pillNames.includes(e.Donor)})):n;if("*"!==m){var r=v.pillNames.length?v.pillNames:i;g(t,r,m)}else y(t,e)})),v.onRemove((function(){var e=!!v.pillNames.length,t=e?n.filter((function(e){return v.pillNames.includes(e.Donor)})):n;if("*"!==m){var r=e?v.pillNames:i;g(t,r,m)}else y(t,v.pillNames[0]||i[0])})),b.addEventListener("change",(function(e){var t=e.currentTarget.value;if(m=t,"*"===t){v.removeAll(),v.disable();var r=i[0];return y(n,r),void(u.value=r)}v.enable();var a=v.pillNames.length?v.pillNames:i;g(n,a,m)})),t.hideLoading()}))}))}}})}))}],[[1,1]]]);
