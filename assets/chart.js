(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,n){e.exports=n(455)},454:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);n(170),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(195),n(74),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(208),n(209),n(210),n(212),n(213),n(214),n(105),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(243),n(244),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(268),n(269),n(272),n(273),n(274),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(152),n(288),n(289),n(153),n(290),n(291),n(292),n(293),n(154),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(114),n(356),n(357),n(359),n(360),n(361),n(362),n(363),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(400),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(434),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(448),n(449),n(450),n(451),n(453),n(167);var a=n(168),i=n.n(a),r={rainbow:["#e84439","#eb642b","#f49b21","#109e68","#0089cc","#893f90","#c2135b","#f8c1b2","#f6bb9d","#fccc8e","#92cba9","#88bae5","#c189bb","#e4819b"],default:["#6c120a","#a21e25","#cd2b2a","#dc372d","#ec6250","#f6b0a0","#fbd7cb","#fce3dc"],sunflower:["#7d4712","#ba6b15","#df8000","#f7a838","#fac47e","#fedcab","#fee7c1","#feedd4"],marigold:["#7a2e05","#ac4622","#cb5730","#ee7644","#f4a57c","#facbad","#fcdbbf","#fde5d4"],rose:["#65093d","#8d0e56","#9f1459","#d12568","#e05c86","#f3a5b6","#f6b8c1","#f9cdd0"],lavendar:["#42184c","#632572","#732c85","#994d98","#af73ae","#cb98c4","#deb5d6","#ebcfe5"],bluebell:["#0a3a64","#00538e","#1060a3","#4397d3","#77adde","#a3c7eb","#bcd4f0","#d3e0f4"],leaf:["#08492f","#005b3e","#00694a","#3b8c62","#74bf93","#a2d1b0","#b1d8bb","#c5e1cb"]},l={color:r.rainbow.concat(r.default),legend:{top:10,textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},tooltip:{trigger:"axis",textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},toolbox:{showTitle:!1,feature:{saveAsImage:{title:"Save as image",pixelRatio:2}},right:20,tooltip:{show:!0,textStyle:{fontFamily:"Geomanist Regular,sans-serif",formatter:function(e){return"<div>"+e.title+"</div>"}}}},xAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},yAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}},s=(n(454),function(e){return new Promise((function(t){window.d3.csv(e,(function(e){return t(e)}))}))}),o=function(e,t,n){void 0===n&&(n=!1);var a=document.createElement("option");a.value="string"==typeof t?t:t.value,a.text="string"==typeof t?t:t.label,n&&(a.selected=!0),e.appendChild(a)},c=function(e){var t,n=e.wrapper,a=e.options,i=e.allItemsLabel,r=e.className,l=e.label,s=e.defaultOption,c=void 0===s?"*":s,d=document.createElement("select");if((t=d.classList).add.apply(t,["data-selector","js-plotly-chart-data-selector",r]),i&&o(d,{label:i,value:"*"},"*"===c),a.forEach((function(e){return o(d,e,e===c)})),d.classList.add("data-selector--active"),l){var u=document.createElement("label");u.innerHTML=l;var f=document.createElement("div");f.classList.add("labelled-data-selector--wrapper"),f.appendChild(u),f.appendChild(d),n.appendChild(f)}else n.appendChild(d);return d},d=function(e,t){Array.prototype.forEach.call(e,(function(e,n){n<t.length&&(e.style.borderColor=t[n]),e.style.borderWidth="2px"}))};var u=function(e){var t=!0,n={pillNames:e.pills||[],onAddListener:e.onAdd,onRemoveListener:e.onRemove,widget:null,pills:[],colours:e.colours||[],init:function(){var e,t=this;this.widget=((e=document.createElement("div")).classList.add("spotlight-banner"),e),this.pillNames&&this.pillNames.length&&this.pillNames.forEach((function(e){return t.add(e,{allowDuplicate:!0})}))},add:function(e,t){var n=this;if(void 0===t&&(t={}),this.isEnabled()&&(t.allowDuplicate||!this.pillNames.includes(e))){this.pillNames.push(e);var a=function(e,t){var n,a=document.createElement("li");a.classList.add("m-pills__item"),a.innerHTML=t,e.appendChild(a);var i=document.createElement("button");i.setAttribute("type","button"),a.appendChild(i);var r=document.createElement("i");return r.setAttribute("role","presentation"),(n=r.classList).add.apply(n,["ico","ico--20","ico-cross-slate"]),i.appendChild(r),[a,i]}(this.widget,e),i=a[0],r=a[1];this.pills.push(i),r.addEventListener("click",(function(e){if(n.isEnabled()){var t=e.currentTarget.parentElement;t&&n.remove(t.innerText)}})),this.onAddListener&&this.onAddListener(e),d(this.pills,this.colours)}},remove:function(e){if(t){var n=this.pillNames.indexOf(e);this.pillNames=this.pillNames.filter((function(t){return t!==e}));var a=this.pills[n];this.pills=this.pills.filter((function(e,t){return t!==n})),a.remove(),this.onRemoveListener&&this.onRemoveListener(e),d(this.pills,this.colours)}},onAdd:function(e){this.onAddListener=e},onRemove:function(e){this.onRemoveListener=e},removeAll:function(){this.pillNames=[],this.pills.forEach((function(e){return e.remove()})),this.pills=[],this.onRemoveListener&&this.onRemoveListener()},enable:function(){t=!0},disable:function(){t=!1},isEnabled:function(){return t}};return n.init(),n},f=function(e){return e.map((function(e){var t=Object.assign({},e);return t.value=e["USD deflated"].trim()?Number(e["USD deflated"].replace(",","").replace(" ","").trim()):null,t}))},p=function(e,t,n,a){var i=e.filter((function(e){return e.Donor.trim()===n&&e["Delivery Channel"]===a}));return t.map((function(e){return i.find((function(t){return t.Year===e}))}))};window.addEventListener("load",(function(){window.DICharts.handler.addChart({className:"dicharts--boilerplate-chart",echarts:{onAdd:function(e){Array.prototype.forEach.call(e,(function(e){var t=new window.DICharts.Chart(e.parentElement);s("https://raw.githubusercontent.com/devinit/di-chart-boilerplate/gha/2021/funding-channels/public/assets/data/GHA/2021/funding-channels-interactive-data.csv").then((function(n){var a=function(e){var t,n=document.createElement("div");return(t=n.classList).add.apply(t,["spotlight-banner","data-selector--wrapper"]),e.parentElement.insertBefore(n,e),n}(e),r=[].concat(new Set(n.map((function(e){return e.Donor})))),s=[].concat(new Set(n.map((function(e){return e.Year})))),o=[].concat(new Set(n.map((function(e){return e["Delivery Channel"]})))),d=c({wrapper:a,options:r,allItemsLabel:"All Donors",className:"country-filter",label:"Select Donor"}),m=o[0],h=c({wrapper:a,options:o,allItemsLabel:"All Channels",className:"channel-filter",label:"Channel",defaultOption:m}),b=function(e,t,n){var a=n.donors,r=n.years,s=n.channels,o=window.echarts.init(e),c={legend:{show:!1},xAxis:{type:"category",data:r},yAxis:{type:"value"},series:a.filter((function(e){return"EU Institutions"!==e})).map((function(e){return{name:e,data:p(t,r,e,s[0]).map((function(e){return Number(e.value)})),type:"bar",stack:s[0],emphasis:{focus:"series"}}}))};return o.setOption(i()(l,c)),o}(e,f(n),{donors:r,years:s,channels:o}),v=new u({wrapper:a,colours:b.getOption().color});v.pills.length&&e.parentElement.insertBefore(v.widget,e);var g=function(e,t,n){var a=f(e);b.setOption({legend:{show:!1},series:t.map((function(e){return{name:e,data:p(a,s,e,n).map((function(e){return Number(e.value)})),type:"bar",stack:n,emphasis:{focus:"series"}}}))},{replaceMerge:["series"]})},w=function(e,t){var n=f(e);b.setOption({legend:{show:!0},series:o.map((function(e){return{name:e,data:p(n,s,t,e).map((function(e){return Number(e.value)})),type:"bar",stack:t,emphasis:{focus:"series"}}}))},{replaceMerge:["series"]})};d.addEventListener("change",(function(t){var n=t.currentTarget.value;"*"!==n?(v.pillNames.length||e.parentElement.insertBefore(v.widget,e),"*"===m&&v.removeAll(),v.add(n)):v.removeAll()})),v.onAdd((function(e){var t="*"!==e?n.filter((function(e){return v.pillNames.includes(e.Donor)})):n;if("*"!==m){var a=v.pillNames.length?v.pillNames:r;g(t,a,m)}else w(t,e)})),v.onRemove((function(){var e=!!v.pillNames.length,t=e?n.filter((function(e){return v.pillNames.includes(e.Donor)})):n;if("*"!==m){var a=e?v.pillNames:r;g(t,a,m)}else w(t,v.pillNames[0]||r[0])})),h.addEventListener("change",(function(e){var t=e.currentTarget.value;if(m=t,"*"===t){v.removeAll(),v.disable();var a=r[0];return w(n,a),void(d.value=a)}v.enable();var i=v.pillNames.length?v.pillNames:r;g(n,i,m)})),t.hideLoading()}))}))}}})}))}},[[169,1,2]]]);
